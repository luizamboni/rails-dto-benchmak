# Registration API

Rails API app with Sorbet type checking and Tapioca-generated RBIs.

## Requirements

- Ruby 3.3.x (see `.ruby-version`)
- Bundler
- PostgreSQL

## Setup

```bash
bundle install
```

## Database

```bash
bin/rails db:create db:migrate
```

## Sorbet (type checking)

Sorbet is initialized in `sorbet/` and gem RBIs are generated by Tapioca.

### Regenerate gem RBIs

```bash
bin/tapioca gem
```

### Generate DSL RBIs (optional)

```bash
bin/tapioca dsl
```

### Typecheck

```bash
bundle exec srb tc
```

## Notes

- Sorbet is pinned to a 0.5.x release and Zeitwerk is pinned to 2.6.12 in `Gemfile`
  to keep Tapioca compatible. If you upgrade Rails, Sorbet, or Zeitwerk, re-run:
  `bin/tapioca gem` and then `bundle exec srb tc`.

## Reports

- [V1 vs V2 Performance Report](reports/perf_v1_v2.md)
